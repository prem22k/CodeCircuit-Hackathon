(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{3278:function(e,t,r){Promise.resolve().then(r.bind(r,6440))},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{color:c="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:h,...f}=r;return(0,n.createElement)("svg",{ref:l,...s,width:i,height:i,stroke:c,strokeWidth:u?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(a(e)),d].join(" "),...f},[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},7907:function(e,t,r){"use strict";var n=r(5313);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6440:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(3827),s=r(4090),a=r(7907),l=r(7461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),i=(0,l.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,l.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var u=r(7269),d=r(8121),h=r(1221);function f(){let e=(0,a.useParams)(),t=null==e?void 0:e.deckId,r=(0,a.useRouter)(),{user:l}=(0,u.a)(),{deck:f,loading:m,error:x}=function(e){let{user:t}=(0,u.a)(),[r,n]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[c,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!t||!e){n(null),l(!1);return}let r=(0,d.JU)(h.db,"users/".concat(t.uid,"/decks/").concat(e)),s=(0,d.cf)(r,e=>{e.exists()?n({id:e.id,...e.data()}):(n(null),i(Error("Deck not found"))),l(!1)},e=>{console.error("Error fetching deck:",e),i(e),l(!1)});return()=>s()},[t,e]),{deck:r,loading:a,error:c}}(t),[N,g]=(0,s.useState)(0),[v,E]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{l||r.replace("/login")},[l,r]),m)return(0,n.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})});if(x||!f)return(0,n.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-red-500",children:"Error loading deck"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null==x?void 0:x.message)||"Deck not found"}),(0,n.jsx)("button",{onClick:()=>r.back(),className:"btn btn-primary",children:"Go Back"})]});let b=f.cards||[],j=b[N];return 0===b.length?(0,n.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"No cards in this deck"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Add some cards to start reviewing!"}),(0,n.jsx)("button",{onClick:()=>r.back(),className:"btn btn-primary",children:"Go Back"})]}):(0,n.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:f.title}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Card ",N+1," of ",b.length]}),(0,n.jsx)("button",{onClick:()=>{g(0),E(!1)},className:"btn btn-ghost",title:"Reset deck",children:(0,n.jsx)(c,{className:"w-5 h-5"})})]})]}),(0,n.jsx)("div",{className:"relative min-h-[400px] perspective-1000",children:(0,n.jsxs)("div",{className:"relative w-full h-full transition-transform duration-500 transform-style-preserve-3d cursor-pointer ".concat(v?"rotate-y-180":""),onClick:()=>E(!v),children:[(0,n.jsx)("div",{className:"absolute w-full h-full backface-hidden",children:(0,n.jsx)("div",{className:"w-full h-full p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-2xl text-center",children:j.front})})}),(0,n.jsx)("div",{className:"absolute w-full h-full backface-hidden rotate-y-180",children:(0,n.jsx)("div",{className:"w-full h-full p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-2xl text-center",children:j.back})})})]})}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsxs)("button",{onClick:()=>{N>0&&(g(e=>e-1),E(!1))},disabled:0===N,className:"btn btn-outline",children:[(0,n.jsx)(i,{className:"w-5 h-5"}),"Previous"]}),(0,n.jsxs)("button",{onClick:()=>{N<b.length-1&&(g(e=>e+1),E(!1))},disabled:N===b.length-1,className:"btn btn-outline",children:["Next",(0,n.jsx)(o,{className:"w-5 h-5"})]})]})]})})}},7269:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(4090),s=r(1221);function a(){let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=s.I8.onAuthStateChanged(e=>{t(e),a(!1)});return()=>e()},[]),{user:e,loading:r,signInWithGoogle:async()=>{try{await (0,s.qj)()}catch(e){throw console.error("Error signing in with Google:",e),e}},signOut:async()=>{try{await s.I8.signOut()}catch(e){throw console.error("Error signing out:",e),e}}}}},1221:function(e,t,r){"use strict";r.d(t,{I8:function(){return u},Vv:function(){return h},db:function(){return d},qj:function(){return f}});var n=r(6142),s=r(7065),a=r(8121),l=r(3493),c=r(9079);let i={apiKey:c.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:c.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:c.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:c.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:c.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:c.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:c.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},o=(0,n.ZF)(i),u=(0,s.v0)(o),d=(0,a.ad)(o);(0,l.IH)(o);let h=new s.hJ,f=()=>(0,s.rh)(u,h)}},function(e){e.O(0,[358,58,308,971,69,744],function(){return e(e.s=3278)}),_N_E=e.O()}]);