(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{7302:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Decks",function(){return s(8153)}])},5398:function(e,t,s){"use strict";s.d(t,{T:function(){return a}});var r=s(5893);let a=e=>{let{className:t="w-6 h-6"}=e;return(0,r.jsx)("div",{className:"animate-spin ".concat(t),children:(0,r.jsxs)("svg",{className:"text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}},2434:function(e,t,s){"use strict";s.d(t,{C:function(){return a}});var r=s(4712);let a={success:e=>r.Am.success(e),error:e=>r.Am.error(e),info:e=>r.Am.info(e),warning:e=>r.Am.warning(e)}},8153:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var r=s(5893),a=s(7294),i=s(1664),l=s.n(i),c=s(1012),n=s(470),d=s(3718),o=s(3761);let u={DECKS:"brainboost_decks",CARDS:"brainboost_cards"},m=e=>JSON.parse(e,(e,t)=>["lastReviewed","nextReview","createdAt","updatedAt","startedAt"].includes(e)&&t?new Date(t):t),x=()=>{let e=localStorage.getItem(u.DECKS);return e?m(e):[]},h=e=>{let t=x(),s=t.findIndex(t=>t.id===e.id);s>=0?t[s]={...e,updatedAt:new Date}:t.push({...e,createdAt:new Date,updatedAt:new Date}),localStorage.setItem(u.DECKS,JSON.stringify(t))},g=e=>{let t=x().filter(t=>t.id!==e);localStorage.setItem(u.DECKS,JSON.stringify(t));let s=b().filter(t=>t.deckId!==e);localStorage.setItem(u.CARDS,JSON.stringify(s))},b=()=>{let e=localStorage.getItem(u.CARDS);return e?m(e):[]};var y=s(9070),p=s(5398),f=s(2434),N=()=>{let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),[j,k]=(0,a.useState)({title:"",description:""}),[w,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{C()},[]);let C=async()=>{try{i(!0);let e=x();t(e)}catch(e){console.error("Error loading decks:",e),f.C.error("Failed to load decks. Please try again.")}finally{i(!1)}},D=async e=>{e.preventDefault();try{v(!0);let e={id:(null==b?void 0:b.id)||crypto.randomUUID(),title:j.title,description:j.description,cardCount:(null==b?void 0:b.cardCount)||0,createdAt:(null==b?void 0:b.createdAt)||new Date,updatedAt:new Date};h(e),t(x()),_(),f.C.success("Deck ".concat(b?"updated":"created"," successfully!"))}catch(e){console.error("Error saving deck:",e),f.C.error("Failed to save deck. Please try again.")}finally{v(!1)}},S=async e=>{if(window.confirm("Are you sure you want to delete this deck?"))try{g(e),t(x()),f.C.success("Deck deleted successfully!")}catch(e){console.error("Error deleting deck:",e),f.C.error("Failed to delete deck. Please try again.")}},A=()=>{N(null),k({title:"",description:""}),m(!0)},E=e=>{N(e),k({title:e.title,description:e.description}),m(!0)},_=()=>{m(!1),N(null),k({title:"",description:""})};return s?(0,r.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,r.jsx)(p.T,{className:"w-12 h-12"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Your Decks"}),(0,r.jsxs)("button",{onClick:A,className:"btn btn-primary flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),"Create Deck"]})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No decks yet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first deck to start learning!"}),(0,r.jsx)("button",{onClick:A,className:"btn btn-primary",children:"Create Your First Deck"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"card group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("button",{onClick:()=>E(e),className:"p-1 hover:text-primary-500 transition-colors","aria-label":"Edit deck",children:(0,r.jsx)(n.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>S(e.id),className:"p-1 hover:text-red-500 transition-colors","aria-label":"Delete deck",children:(0,r.jsx)(d.Z,{className:"w-4 h-4"})})]})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.cardCount," cards"]}),(0,r.jsxs)(l(),{href:"/review/".concat(e.id),className:"btn bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),"Review"]})]})]},e.id))}),(0,r.jsxs)(y.Vq,{open:u,onClose:_,className:"relative z-50",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,r.jsxs)(y.Vq.Panel,{className:"card max-w-md w-full",children:[(0,r.jsx)(y.Vq.Title,{className:"text-2xl font-bold mb-4",children:b?"Edit Deck":"Create New Deck"}),(0,r.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),(0,r.jsx)("input",{type:"text",id:"title",value:j.title,onChange:e=>k({...j,title:e.target.value}),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 p-2",required:!0,disabled:w})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",children:"Description"}),(0,r.jsx)("textarea",{id:"description",value:j.description,onChange:e=>k({...j,description:e.target.value}),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 p-2",rows:3,required:!0,disabled:w})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:_,className:"btn bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700",disabled:w,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?(0,r.jsx)(p.T,{className:"w-5 h-5"}):b?"Save Changes":"Create Deck"})]})]})]})})]})]})}}},function(e){e.O(0,[970,862,147,888,774,179],function(){return e(e.s=7302)}),_N_E=e.O()}]);